#!/bin/sh
set -e

certDir=/tmp/ssl
mkdir $certDir
cd $certDir

# openssl genrsa -out server.key 4096
# openssl req -new \
# 	-key server.key \
# 	-out server.csr \
# 	-subj "/C=HK/ST=/L=/O=Nginx/CN=Nginx"
# openssl x509 -req \
# 	-days 3650 \
# 	-in server.csr \
# 	-signkey server.key \
# 	-out server.crt
# cat server.key server.crt >>server.pem

cat >server.key <<EOF
-----BEGIN PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCr9h2w3awm5ypP
zegVNtiSLa4dOgJQAlvUH1DU8qYN9t+UrnBVsFQwMFxquBDjtyzQtWLEavVnN7BL
+8kLVRD+sar5ICI5q0vSNOEOmC7NYiDVVLwSzpt5jWXNXYB+pfZS/IncIZzmQLpx
QOlllum/EcpZvX194AfLcCQc1GPpOWX8MjGDJKcvkaayk6/aVw8kqwZ+a/9dPSMC
lutHL5nOovS6oWHhBg0YEr2YoQh8ujjwhXECRCIpenjOP7zqvKXhbcBaETear3XG
uSrfS+ChuLEniuf2weSiQaiwkC2ha6lLsxns/KuAhMUKrO7BSB41QaHdErY9CaOm
kWhNB9hPAgMBAAECggEAPlueEbSZCHR8ifsDpanBaGTrRkryarwoO6htggNKBzdW
hY6qStCJ/v2SjdqYuVMEC90y50JYIml141/3XEYpRwr7kqK99oaxFJW7ZTT3h+AF
QwcauoE0rSQC3jGBdqvNQvO0NGD2CiM/2PDukjnjIrgbVmaaOsrCWNoeJlw4rOpc
Ad1+jnA8yDM2lJEDQ8GmxrcX6YkxyG32f7ZLwQmP7nxaK9kHWIyb1oGzSVXpkkHG
+2NpQbqs8M12PnvtxtfCiPSa9smUG6ClJe2neCmjNW3TLPEym1WW2XtWs87UamFu
myknZaqhnQ7iH8cBmVu+sGIS6kdUQf5d7ckxD4BaAQKBgQDqRwUlxq0WH0YybMP9
DvSTyUnj/QcNoHREflVwmgzigh1j2G3hlaLK9Q6JIRo75FKo64f/bc38qjpZKeU7
89CoUilvxO+4QbUFzjEstBhOHcdpmbfv4XRKS/zC5PMYsVfRGDB1CMwxop9muwaI
kfKo8E88T2VlaovjmXXT6EV6TwKBgQC75+rEX3sPTOiLHe7ENbLz/5wHZCGZp3WA
L2ASYmhMK/MloB5i191i3FHmTjQOQ7ZD2BajO0gSuiyGClnYB/DqH/FmGGAcP8Tu
KFxUea863RRql5h4vh5Wz/1hgl6eUK/lvvMzAdgZp8XC+nV5dRKpMagraeEZ75L0
nzS5FKZCAQKBgGx28RUqRJyHYjKaVKrmr6l0efdKAGf4r5u+ecQmLmz4HK9LVqQo
aTRZ/J7UapbsALEgStihd8rQ7S62zODS4vnrADA1F19RXIQRkIbH4rDX7KkheB1h
Xju/roh1A2+dO7Ec5+JnblJUnkQrtryoBZbdm3GquKEZkSaQuBKh6PjVAoGBAI2q
BjvwhDV/1R30/irdFUKRZg/IdPCD6Lkwfmy91kX/KHwoYGBCwHyk//Xy5ZoPgJ1b
j42Wxvqfc6vGp/+P1Rid5oADRoplpVGsChgB+ZMWVCsciW4WX4cxnaTjBfSzfjlm
obHF5SdKbnVWIDTmh6AZeODqHTRRg2h7kuMqZ0IBAoGAfO0uRNNFt8XWuX53FV9I
c1aB60o4SiPMtZk7uOjniClu1uY3IjKvktxxuXylWDSYrRm6/kMsfnGkaHurw4sC
xUDkSWzm8Jt5p9q5yyflwYpTqWApbL6N072MjeCarL72zhn8XjjjU9gneCO8d83i
YHDQFVhrVrmR9FhoE8iP8c4=
-----END PRIVATE KEY-----
EOF

cat >server.crt <<EOF
-----BEGIN CERTIFICATE-----
MIIDVDCCAtugAwIBAgIUBZt3lmxVV3sumwdDUXolKXqz83gwCgYIKoZIzj0EAwIw
gYMxCzAJBgNVBAYTAkhLMRcwFQYDVQQKDA5uZ2tpdHNoaW5nLmNvbTEeMBwGA1UE
CwwVTmdkZU1hY0Jvb2stUHJvLmxvY2FsMRYwFAYDVQQDDA1Mb2NhbCBSb290IENB
MSMwIQYJKoZIhvcNAQkBFhRhZG1pbkBuZ2tpdHNoaW5nLmNvbTAeFw0yMzEwMDkx
NzI3MjdaFw0yNDEwMDgxNzI3MjdaMCYxJDAiBgNVBAMMG25naW54LWNvbnRhaW5l
ci5oMi10ZXN0LnN2YzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAKv2
HbDdrCbnKk/N6BU22JItrh06AlACW9QfUNTypg3235SucFWwVDAwXGq4EOO3LNC1
YsRq9Wc3sEv7yQtVEP6xqvkgIjmrS9I04Q6YLs1iINVUvBLOm3mNZc1dgH6l9lL8
idwhnOZAunFA6WWW6b8Rylm9fX3gB8twJBzUY+k5ZfwyMYMkpy+RprKTr9pXDySr
Bn5r/109IwKW60cvmc6i9LqhYeEGDRgSvZihCHy6OPCFcQJEIil6eM4/vOq8peFt
wFoRN5qvdca5Kt9L4KG4sSeK5/bB5KJBqLCQLaFrqUuzGez8q4CExQqs7sFIHjVB
od0Stj0Jo6aRaE0H2E8CAwEAAaOBvTCBujAOBgNVHQ8BAf8EBAMCBaAwDAYDVR0T
AQH/BAIwADATBgNVHSUEDDAKBggrBgEFBQcDATAfBgNVHSMEGDAWgBQP30bJ/RLo
Dd9JQOe3q+w6gZ/+QzBFBgNVHREEPjA8ghtuZ2lueC1jb250YWluZXIuaDItdGVz
dC5zdmOCHSoubmdpbngtY29udGFpbmVyLmgyLXRlc3Quc3ZjMB0GA1UdDgQWBBT0
mscX9sevNw3fjtI7eoZFSZTnsjAKBggqhkjOPQQDAgNnADBkAjByeExX2nu8lqcb
s1QZnf40lN81LImrcJ/DaNTx0thf7H6/r/7q1AA63puUQ6rSA44CMD4UELOxSqka
MKzxNuVRmk0ipg7oqD6x82RkDof/4QJN/tl73te/XaGO+ac2wu0i2w==
-----END CERTIFICATE-----
EOF
